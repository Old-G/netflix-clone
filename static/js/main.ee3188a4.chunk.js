(this["webpackJsonpnetflix-clone"]=this["webpackJsonpnetflix-clone"]||[]).push([[0],{137:function(e,n){},139:function(e,n){},188:function(e,n){},189:function(e,n){},191:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=191},193:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(43),i=t.n(a),s=(t(94),t(24)),o=t(54),l=t(9),_=(t(98),t(89).a.initializeApp({apiKey:"AIzaSyAi3jB8y3KPsWPbLm-MJvTJdVuuSRc3Kls",authDomain:"netflix-clone-2e036.firebaseapp.com",projectId:"netflix-clone-2e036",storageBucket:"netflix-clone-2e036.appspot.com",messagingSenderId:"920294508830",appId:"1:920294508830:web:50d2e3e636992d8e74210f"})),u=_.firestore(),d=_.auth(),p=u,j=t(18),b=t(33),f=t.n(b),h=t(12),v=t.n(h),g=t(3);var m=function(){var e=Object(c.useState)(!1),n=Object(j.a)(e,2),t=n[0],r=n[1],a=Object(l.f)(),i=function(){window.scrollY>100?r(!0):r(!1)};return Object(c.useEffect)((function(){return window.addEventListener("scroll",i),function(){return window.removeEventListener("scroll",i)}}),[]),Object(g.jsx)("div",{className:v()(f.a.navBar,t&&[f.a.navBar__black]),children:Object(g.jsxs)("div",{className:v()(f.a.navBar__contents),children:[Object(g.jsx)("img",{onClick:function(){return a.push("/")},className:v()(f.a.navBar__logo),src:"http://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png",alt:"netflix_logo"}),Object(g.jsx)("img",{onClick:function(){return a.push("/profile")},className:v()(f.a.navBar__avatar),src:"https://pbs.twimg.com/profile_images/1240119990411550720/hBEe3tdn_400x400.png",alt:"avatar"})]})})},O=t(15),x=t.n(O),S=t(25),y=t(26),w=t.n(y),k=t(83),N=t.n(k).a.create({baseURL:"http://api.themoviedb.org/3"}),B="f7912f5b008dd4ab86451b0bed7f16a7",E={fetchTrending:"/trending/all/week?api_key=".concat(B,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(B,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(B,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(B,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(B,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(B,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(B,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(B,"&with_genres=99")};var R=function(){var e,n,t=Object(c.useState)([]),r=Object(j.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){function e(){return(e=Object(S.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get(E.fetchNetflixOriginals);case 2:return n=e.sent,i(n.data.results[Math.floor(Math.random()*n.data.results.length-1)]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(g.jsxs)("header",{className:w.a.banner,style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url('https://image.tmdb.org/t/p/original/".concat(null===a||void 0===a?void 0:a.backdrop_path,"')"),backgroundPosition:"center top"},children:[Object(g.jsxs)("div",{className:v()(w.a.banner__contents),children:[Object(g.jsx)("h1",{className:v()(w.a.banner__title),children:(null===a||void 0===a?void 0:a.title)||(null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.original_name)}),Object(g.jsxs)("div",{className:v()(w.a.buttons),children:[Object(g.jsx)("button",{className:v()(w.a.banner__button),children:"Play"}),Object(g.jsx)("button",{className:v()(w.a.banner__button),children:"My List"})]}),Object(g.jsx)("h1",{className:v()(w.a.banner__description),children:(e=null===a||void 0===a?void 0:a.overview,n=150,(null===e||void 0===e?void 0:e.length)>n?e.substring(0,n-1)+"...":e)})]}),Object(g.jsx)("div",{className:v()(w.a.banner__fadeBottom)})]})},I=t(37),C=t.n(I),M=t(84),U=t(87),L=t.n(U);var T=function(e){var n=e.title,t=e.fetchUrl,r=e.isLargeRow,a=void 0!==r&&r,i=Object(c.useState)([]),s=Object(j.a)(i,2),o=s[0],l=s[1],_=Object(c.useState)(""),u=Object(j.a)(_,2),d=u[0],p=u[1];return Object(c.useEffect)((function(){function e(){return(e=Object(S.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get(t);case 2:return n=e.sent,l(n.data.results),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(g.jsxs)("div",{className:C.a.row,children:[Object(g.jsx)("h2",{children:n}),Object(g.jsx)("div",{className:C.a.row__posters,children:o.map((function(e){return(a&&e.poster_path||!a&&e.backdrop_path)&&Object(g.jsx)("img",{className:v()(C.a.row__poster,a&&[C.a.row__posterLarge]),onClick:function(){return function(e){d?p(""):L()((null===e||void 0===e?void 0:e.name)||"").then((function(e){var n=new URLSearchParams(new URL(e).search);p(n.get("v"))})).catch((function(e){console.log(e)}))}(e)},src:"".concat("http://image.tmdb.org/t/p/original/").concat(a?e.poster_path:e.backdrop_path),alt:e.name},e.id)}))}),d&&Object(g.jsx)(M.a,{video:d,opts:{height:"390",width:"100%",playerVars:{autoplay:1}}})]})};var A=function(){return Object(g.jsxs)("div",{className:"homeScreen",children:[Object(g.jsx)(m,{}),Object(g.jsx)(R,{}),Object(g.jsx)(T,{title:"NETFLIX ORIGINAL",fetchUrl:E.fetchNetflixOriginals,isLargeRow:!0}),Object(g.jsx)(T,{title:"Trending Now",fetchUrl:E.fetchTrending}),Object(g.jsx)(T,{title:"Top Rated",fetchUrl:E.fetchTopRated}),Object(g.jsx)(T,{title:"Action Movies",fetchUrl:E.fetchActionMovies}),Object(g.jsx)(T,{title:"Comedy Movies",fetchUrl:E.fetchComedyMovies}),Object(g.jsx)(T,{title:"Horror Movies",fetchUrl:E.fetchHorrorMovies}),Object(g.jsx)(T,{title:"Romance Movies",fetchUrl:E.fetchRomanceMovies}),Object(g.jsx)(T,{title:"Documentaries",fetchUrl:E.fetchDocumentaries})]})},D=t(46),P=t.n(D);var z=function(){var e=Object(c.useRef)(null),n=Object(c.useRef)(null);return Object(g.jsx)("div",{className:P.a.signupScreen,children:Object(g.jsxs)("form",{children:[Object(g.jsx)("h1",{children:"Sign In"}),Object(g.jsx)("input",{ref:e,type:"email",placeholder:"Email"}),Object(g.jsx)("input",{ref:n,type:"password",placeholder:"Password"}),Object(g.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),d.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign In"}),Object(g.jsxs)("h4",{children:[Object(g.jsx)("span",{className:P.a.signupScreen__gray,children:"New to Netflix? "}),Object(g.jsx)("span",{className:P.a.signupScreen__link,onClick:function(t){t.preventDefault(),d.createUserWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign Up now."})]})]})})},G=t(27),J=t.n(G);var H=function(){var e=Object(c.useState)(!1),n=Object(j.a)(e,2),t=n[0],r=n[1];return Object(g.jsxs)("div",{className:J.a.loginScreen,children:[Object(g.jsxs)("div",{className:J.a.loginScreen__background,children:[Object(g.jsx)("img",{className:J.a.loginScreen__logo,src:"http://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png",alt:"netflix_logo"}),Object(g.jsx)("button",{onClick:function(){return r(!0)},className:J.a.loginScreen__button,children:"Sign In"}),Object(g.jsx)("div",{className:J.a.loginScreen__gradient})]}),Object(g.jsx)("div",{className:J.a.loginScreen__body,children:t?Object(g.jsx)(z,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Unlimited films, TV programmes and more."}),Object(g.jsx)("h2",{children:"Watch anywhere. Cancel at any time."}),Object(g.jsx)("h3",{children:"Ready to watch? Enter your email to create or restart your membership"}),Object(g.jsx)("div",{className:J.a.loginScreen__input,children:Object(g.jsxs)("form",{children:[Object(g.jsx)("input",{type:"email",placeholder:"Email Address"}),Object(g.jsx)("button",{onClick:function(){return r(!0)},className:J.a.loginScreen__getStarted,children:"GET STARTED"})]})})]})})]})},W=t(45),K=Object(W.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),Q=K.actions,F=Q.login,V=Q.logout,Y=function(e){return e.user.user},q=K.reducer,X=t(31),Z=t.n(X),$=t(88),ee=t(38),ne=t.n(ee);var te=function(){var e=Object(c.useState)([]),n=Object(j.a)(e,2),t=n[0],r=n[1],a=Object(s.c)(Y),i=Object(c.useState)(null),o=Object(j.a)(i,2),l=o[0],_=o[1];Object(c.useEffect)((function(){p.collection("customers").doc(a.uid).collection("subscriptions").get().then((function(e){e.forEach(function(){var e=Object(S.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_({role:n.data().role,current_period_end:n.data().current_period_end.seconds,current_period_start:n.data().current_period_start.seconds});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}))}),[a.uid]),Object(c.useEffect)((function(){p.collection("products").where("active","==",!0).get().then((function(e){var n={};e.forEach(function(){var e=Object(S.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[t.id]=t.data(),e.next=3,t.ref.collection("prices").get();case 3:e.sent.docs.forEach((function(e){n[t.id].prices={priceId:e.id,priceData:e.data()}}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),r(n)}))}),[]),console.log(t);var u=function(){var e=Object(S.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("customers").doc(a.uid).collection("checkout_sessions").add({price:n,success_url:window.location.origin,cancel_url:window.location.origin});case 2:e.sent.onSnapshot(function(){var e=Object(S.a)(x.a.mark((function e(n){var t,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.data(),c=t.error,r=t.sessionId,c&&alert("An error occured: ".concat(c.message)),!r){e.next=7;break}return e.next=5,Object($.a)("pk_test_51IHY5bGxTMskvQrGCC0gRGHoiphdjCAqSM92Nt453P9E4jevxDyczNtZ3eLHo2JQs5UecOzyche1jXaBArRMrIzT00FL6I5P1G");case 5:e.sent.redirectToCheckout({sessionId:r});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:ne.a.plansScreen,children:[Object(g.jsx)("br",{}),l&&Object(g.jsxs)("p",{children:["Renewal date:"," ",new Date(1e3*(null===l||void 0===l?void 0:l.current_period_end)).toLocaleDateString()]}),Object.entries(t).map((function(e){var n,t=Object(j.a)(e,2),c=t[0],r=t[1],a=null===(n=r.name)||void 0===n?void 0:n.toLowerCase().includes(null===l||void 0===l?void 0:l.role);return Object(g.jsxs)("div",{className:v()(a&&[ne.a.plansScreen__plan_disabled],ne.a.plansScreen__plan),children:[Object(g.jsxs)("div",{className:ne.a.plansScreen__info,children:[Object(g.jsx)("h5",{children:r.name}),Object(g.jsx)("h6",{children:r.description})]}),Object(g.jsx)("button",{onClick:function(){return u(r.prices.priceId)},children:a?"Current Package":"Subscribe"})]},c)}))]})};var ce=function(){var e=Object(s.c)(Y);return Object(g.jsxs)("div",{className:Z.a.profileScreen,children:[Object(g.jsx)(m,{}),Object(g.jsxs)("div",{className:Z.a.profileScreen__body,children:[Object(g.jsx)("h1",{children:"Edit Profile"}),Object(g.jsxs)("div",{className:Z.a.profileScreen__info,children:[Object(g.jsx)("img",{src:"https://pbs.twimg.com/profile_images/1240119990411550720/hBEe3tdn_400x400.png",alt:"avatar"}),Object(g.jsxs)("div",{className:Z.a.profileScreen__details,children:[Object(g.jsx)("h2",{children:e.email}),Object(g.jsxs)("div",{className:Z.a.profileScreen__plans,children:[Object(g.jsx)("h3",{children:"Plans"}),Object(g.jsx)(te,{}),Object(g.jsx)("button",{onClick:function(){return d.signOut()},className:Z.a.profileScreen__signOut,children:"Sign Out"})]})]})]})]})]})};var re=function(){var e=Object(s.c)(Y),n=Object(s.b)();return Object(c.useEffect)((function(){return d.onAuthStateChanged((function(e){n(e?F({uid:e.uid,email:e.email}):V())}))}),[n]),Object(g.jsx)("div",{className:"app",children:Object(g.jsx)(o.a,{children:e?Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/profile",children:Object(g.jsx)(ce,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/",children:Object(g.jsx)(A,{})})]}):Object(g.jsx)(H,{})})})},ae=Object(W.a)({reducer:{user:q}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(s.a,{store:ae,children:Object(g.jsx)(re,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,n,t){e.exports={banner:"style_banner__1Uz7q",banner__contents:"style_banner__contents__2_rec",banner__title:"style_banner__title__3YvN4",banner__description:"style_banner__description__2EpkX",banner__fadeBottom:"style_banner__fadeBottom__Y8oMa",banner__button:"style_banner__button__2GjIJ"}},27:function(e,n,t){e.exports={loginScreen:"style_loginScreen__102uu",loginScreen__body:"style_loginScreen__body__Jn6If",loginScreen__gradient:"style_loginScreen__gradient__2U1gc",loginScreen__button:"style_loginScreen__button__38DKJ",loginScreen__logo:"style_loginScreen__logo__3jtdQ",loginScreen__input:"style_loginScreen__input__Lq7Kv",loginScreen__getStarted:"style_loginScreen__getStarted__PVczU"}},31:function(e,n,t){e.exports={profileScreen:"style_profileScreen__B1OoR",profileScreen__body:"style_profileScreen__body__6n4QE",profileScreen__info:"style_profileScreen__info__2vMKf",profileScreen__details:"style_profileScreen__details__3fd_-",profileScreen__signOut:"style_profileScreen__signOut__1PJmZ",profileScreen__plans:"style_profileScreen__plans__7mQHB"}},33:function(e,n,t){e.exports={navBar:"style_navBar__3YpCI",navBar__contents:"style_navBar__contents__31V3H",navBar__black:"style_navBar__black__2zCzs",navBar__logo:"style_navBar__logo__3fFho",navBar__avatar:"style_navBar__avatar__1_23Q"}},37:function(e,n,t){e.exports={row:"style_row__3ZiGm",row__posters:"style_row__posters__1GTXi",row__poster:"style_row__poster__IeiAu",row__posterLarge:"style_row__posterLarge__xx_3c"}},38:function(e,n,t){e.exports={plansScreen__plan:"style_plansScreen__plan__1Ag7n","plansScreen__plan--disabled":"style_plansScreen__plan--disabled__35pB2"}},46:function(e,n,t){e.exports={signupScreen:"style_signupScreen__WTNqy",signupScreen__gray:"style_signupScreen__gray__2RDxR",signupScreen__link:"style_signupScreen__link__1kvRT"}},94:function(e,n,t){},98:function(e,n,t){}},[[193,1,2]]]);
//# sourceMappingURL=main.ee3188a4.chunk.js.map